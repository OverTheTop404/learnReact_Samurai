{"version":3,"file":"static/js/822.8ffe37f4.chunk.js","mappings":"0KAKIA,EAAsB,SAAAC,GAAK,MAAK,CAChCC,OAAQD,EAAME,KAAKD,OACtB,EAYD,IAVyB,SAAAE,GAOrB,OAAOC,EAAAA,EAAAA,IAAQL,EAARK,EALmB,SAAAC,GACtB,OAAKA,EAAMJ,QACJ,SAACE,GAAS,UAAKE,KADI,SAAC,KAAQ,CAACC,GAAG,UAE3C,GAGJ,C,sGChBA,EAA8B,8BAA9B,EAA0E,8BAA1E,EAAuH,+BAAvH,EAAoK,8BCApK,EAA8B,mCAA9B,EAA+E,mCAA/E,EAA2H,8BAA3H,EAAmK,+B,SCSnK,EARqB,SAAH,GAAsB,IAAjBC,EAAI,EAAJA,KAAMC,EAAI,EAAJA,KACzB,OAAO,gBAAKC,UAAoB,IAATF,EAAaG,EAAeA,EAAc,UAC7D,gBAAKD,UAAWC,EAAkB,UAC9B,iBAAMD,UAAWC,EAAkB,SAAEF,OAGjD,ECPA,EAAyB,6BAAzB,EAA+D,6BAA/D,EAAkG,0BAAlG,EAAqI,6B,UCarI,EAVoB,SAAH,GAAsB,IAAjBG,EAAU,EAAVA,WAClB,OAAO,eAAIF,UAAWC,EAAa,UAC/B,UAAC,KAAO,CAACD,UAAW,YAAU,SAARG,SAAyBF,EAAe,EAAE,EAAEJ,GAAE,mBAAcK,EAAWE,IAAK,WAC9F,iBAAMJ,UAAWC,EAAa,UAAC,gBAAKI,IAAKH,EAAWI,OAAQC,IAAKL,EAAWM,UAC5E,0BAAON,EAAWM,QAClB,iBAAMR,UAAWC,EAAU,mBAGvC,E,UCEMQ,GAAkBC,E,OAAAA,GAAU,CAACC,KAAM,UAAjBD,EAPL,SAAH,GAAwB,IAAnBE,EAAY,EAAZA,aACjB,OAAO,kBAAMC,SAAUD,EAAa,WAChC,SAACE,EAAA,EAAK,CAACC,KAAM,OAAQC,YAAa,kBAAmBC,KAAK,IAAIT,KAAM,UAAWU,UAAW,cAC1F,uCAER,IA0CA,EAtCgB,SAAH,GAAmD,IAA9CC,EAAW,EAAXA,YAAaC,EAAO,EAAPA,QAASC,EAAU,EAAVA,WAAYC,EAAK,EAALA,MAE1CC,GAASC,EAAAA,EAAAA,MACTC,EAAkBC,OAAOH,EAAOnB,IAEhCuB,EAAaR,EAAYS,QAAQC,KAAI,SAAAC,GACvC,IAAMC,EAAaX,EAAQY,QAAO,SAAAC,GAAM,OAAIA,EAAO7B,KAAO0B,EAAOI,QAAQ,IAAE,GAC3E,OAAO,SAAC,EAAW,CAAChC,WAAY6B,GAAiBD,EAAOI,SAC5D,IAEIC,EAAe,KAEbC,EAAkBjB,EAAYS,QAAQI,QAAO,SAAAF,GAAM,OAAIA,EAAOI,WAAaT,CAAe,IAE5FW,EAAgBC,SAChBF,EAAeC,EAAgB,GAAGE,SAAST,KAAI,SAAAU,GAC3C,OAAO,SAAC,EAAY,CAACxC,KAAMwC,EAAQA,QAASzC,KAAMyC,EAAQC,YAAiBD,EAAQnC,GACvF,KAQJ,OAAO,iBAAKJ,UAAWC,EAAkB,WACrC,gBAAKD,UAAWC,EAAkB,UAC9B,wBAAK0B,OAET,iBAAK3B,UAAWC,EAAmB,UAC9BkC,GACD,gBAAKnC,UAAWC,EAAkB,UAC9B,SAACQ,EAAe,CAACI,SAZV,SAAA4B,GACfpB,EAAWI,EAAiB,EAAGgB,EAASF,SACxCjB,EAAM,SACV,WAaJ,E,wCCxCA,GAAeoB,EAAAA,EAAAA,KACX/C,EAAAA,EAAAA,KANkB,SAAAJ,GAAK,MAAK,CAC5B4B,YAAa5B,EAAM4B,YACnBC,QAAS7B,EAAM6B,QAClB,GAG4B,CAACC,WAAAA,EAAAA,EAAYC,MAAAA,EAAAA,KACtCqB,EAAAA,EAFJ,CAGEC,E","sources":["components/hoc/authRedirect.js","webpack://it-kamasutra-1/./src/components/pages/dialogs/_dialogs.module.scss?3653","webpack://it-kamasutra-1/./src/components/pages/dialogs/messageList/_messagesList.module.scss?4d5b","components/pages/dialogs/messageList/messageList.js","webpack://it-kamasutra-1/./src/components/pages/dialogs/dislogList/_dialogsList.module.scss?99d0","components/pages/dialogs/dislogList/dialogList.js","components/pages/dialogs/dialogs.js","components/pages/dialogs/dialogsContainer.js"],"sourcesContent":["import {Navigate} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateAuthToProps = state => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nconst withAuthRedirect = Component => {\r\n\r\n    const RedirectComponent = props => {\r\n        if (!props.isAuth) return <Navigate to=\"/login\"/>\r\n        return <Component {...props} />\r\n    }\r\n\r\n    return connect(mapStateAuthToProps)(RedirectComponent)\r\n}\r\n\r\nexport default withAuthRedirect","// extracted by mini-css-extract-plugin\nexport default {\"dialogsPage\":\"_dialogs_dialogsPage__xzas1\",\"dialogsList\":\"_dialogs_dialogsList__TkBkh\",\"messagesList\":\"_dialogs_messagesList__O7TUx\",\"messageArea\":\"_dialogs_messageArea__prEAF\"};","// extracted by mini-css-extract-plugin\nexport default {\"messageItem\":\"_messagesList_messageItem__0jyMv\",\"messageText\":\"_messagesList_messageText__+6-Hv\",\"fromMe\":\"_messagesList_fromMe__ibPZN\",\"fromYou\":\"_messagesList_fromYou__Nf9Rk\"};","import style from './_messagesList.module.scss'\r\n\r\nconst MessagesList = ({from, text}) => {\r\n    return <div className={from === 1 ? style.fromMe : style.fromYou}>\r\n        <div className={style.messageItem}>\r\n            <span className={style.messageText}>{text}</span>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default MessagesList","// extracted by mini-css-extract-plugin\nexport default {\"person\":\"_dialogsList_person__ryrJP\",\"avatar\":\"_dialogsList_avatar__z6bZQ\",\"dot\":\"_dialogsList_dot__7jTA2\",\"active\":\"_dialogsList_active__l76-a\"};","import style from './_dialogsList.module.scss'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst DialogsList = ({dialogInfo}) => {\r\n    return <li className={style.person}>\r\n        <NavLink className={({isActive}) => isActive ? style.active : ''} to={`/dialogs/${dialogInfo.id}`}>\r\n            <span className={style.avatar}><img src={dialogInfo.avatar} alt={dialogInfo.name}/></span>\r\n            <span>{dialogInfo.name}</span>\r\n            <span className={style.dot}>.</span>\r\n        </NavLink>\r\n    </li>\r\n}\r\n\r\nexport default DialogsList","import React from 'react';\r\nimport {useParams} from \"react-router-dom\";\r\nimport style from './_dialogs.module.scss'\r\nimport MessagesList from \"./messageList/messageList\";\r\nimport DialogsList from \"./dislogList/dialogList\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\n\r\nconst DialogForm = ({handleSubmit}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <Field type={'text'} placeholder={'Write a message'} rows=\"1\" name={'message'} component={'textarea'}/>\r\n        <button>Send</button>\r\n    </form>\r\n}\r\n\r\nconst DialogReduxForm = reduxForm({form: 'dialog'})(DialogForm)\r\n\r\nconst Dialogs = ({dialogsPage, friends, addMessage, reset}) => {\r\n\r\n    const params = useParams();\r\n    const currentDialogId = Number(params.id);\r\n\r\n    const dialogList = dialogsPage.dialogs.map(dialog => {\r\n        const friendInfo = friends.filter(friend => friend.id === dialog.dialogId)[0]\r\n        return <DialogsList dialogInfo={friendInfo} key={dialog.dialogId}/>\r\n    })\r\n\r\n    let messagesList = null\r\n\r\n    const currentMessages = dialogsPage.dialogs.filter(dialog => dialog.dialogId === currentDialogId)\r\n\r\n    if (currentMessages.length) {\r\n        messagesList = currentMessages[0].messages.map(message => {\r\n            return <MessagesList text={message.message} from={message.fromPerson} key={message.id}/>\r\n        })\r\n    }\r\n\r\n    let onAddMessage = formData => {\r\n        addMessage(currentDialogId, 1, formData.message)\r\n        reset('dialog')\r\n    }\r\n\r\n    return <div className={style.dialogsPage}>\r\n        <div className={style.dialogsList}>\r\n            <ul>{dialogList}</ul>\r\n        </div>\r\n        <div className={style.messagesList}>\r\n            {messagesList}\r\n            <div className={style.messageArea}>\r\n                <DialogReduxForm onSubmit={onAddMessage}/>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Dialogs","import {addMessage} from \"../../../redux/dialogReducer\";\r\nimport Dialogs from \"./dialogs\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {reset} from \"redux-form\";\r\nimport withAuthRedirect from \"../../hoc/authRedirect\";\r\n\r\nlet mapStateToProps = state => ({\r\n    dialogsPage: state.dialogsPage,\r\n    friends: state.friends\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {addMessage, reset}),\r\n    withAuthRedirect\r\n)(Dialogs)"],"names":["mapStateAuthToProps","state","isAuth","auth","Component","connect","props","to","from","text","className","style","dialogInfo","isActive","id","src","avatar","alt","name","DialogReduxForm","reduxForm","form","handleSubmit","onSubmit","Field","type","placeholder","rows","component","dialogsPage","friends","addMessage","reset","params","useParams","currentDialogId","Number","dialogList","dialogs","map","dialog","friendInfo","filter","friend","dialogId","messagesList","currentMessages","length","messages","message","fromPerson","formData","compose","withAuthRedirect","Dialogs"],"sourceRoot":""}