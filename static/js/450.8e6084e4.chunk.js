"use strict";(self.webpackChunkit_kamasutra_1=self.webpackChunkit_kamasutra_1||[]).push([[450],{3321:function(t,s,e){var n=e(8683),r=e(7689),a=(e(2791),e(8687)),u=e(184),o=function(t){return{isAuth:t.auth.isAuth}};s.Z=function(t){return(0,a.$j)(o)((function(s){return s.isAuth?(0,u.jsx)(t,(0,n.Z)({},s)):(0,u.jsx)(r.Fg,{to:"/login"})}))}},3450:function(t,s,e){e.r(s),e.d(s,{default:function(){return B},withRouter:function(){return M}});var n=e(5671),r=e(3144),a=e(136),u=e(516),o=e(8683),i=e(2791),c="_profileInfo_aboutUser__ACbUK",p="_profileInfo_avatar__DaGNt",l="_profileInfo_info__KHYe6",f="_profileInfo_personName__1vwiz",d=e(8931),h=e(9439),x=e(184),m=function(t){var s=(0,i.useState)(!1),e=(0,h.Z)(s,2),n=e[0],r=e[1],a=(0,i.useState)(t.statusText),u=(0,h.Z)(a,2),o=u[0],c=u[1];(0,i.useEffect)((function(){c(t.statusText)}),[t.statusText]);return(0,x.jsxs)("div",{children:[!n&&(0,x.jsx)("span",{onClick:function(){r(!0)},children:o||"--------"}),n&&(0,x.jsx)("input",{onChange:function(t){c(t.target.value)},onBlur:function(){r(!1),t.updateStatus(o)},autoFocus:!0,value:o})]})},j=function(t){var s=t.userInfo,e=t.status,n=t.updateUserStatus;return s?(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:c,children:[(0,x.jsx)("div",{className:p,children:(0,x.jsx)("img",{src:s.photos.large?s.photos.large:"https://w7.pngwing.com/pngs/862/646/png-transparent-beard-hipster-male-man-avatars-xmas-giveaway-icon-thumbnail.png",alt:"avatar"})}),(0,x.jsxs)("div",{className:l,children:[(0,x.jsx)("h4",{className:f,children:s.fullName}),(0,x.jsx)(m,{statusText:e,updateStatus:n}),(0,x.jsx)("span",{children:null==s.aboutMe?"":s.aboutMe})]})]})}):(0,x.jsx)(d.Z,{})},v=e(3433),g=e(6508),_=e(8687),Z={},k=function(t){return(0,x.jsx)("div",{className:Z.posts,children:(0,x.jsxs)("div",{children:[t.message,". Likes:",t.likeCount]})})},P="_posts_enterPost__60xYu",b=e(6139),C=e(704),I=e(2381),S=e(7258),w=e(4876),N=e(7781),A=(0,w.BS)(30),U=(0,S.W)("textarea"),T=(0,C.Z)({form:"posts"})((function(t){return(0,x.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,x.jsx)(b.Z,{name:"post",type:"text",cols:"100",rows:"5",component:U,fieldType:"textarea",validate:[w.C1,A],placeholder:"Write the post"}),(0,x.jsx)("button",{children:"Add post"})]})})),y=(0,N.qC)((0,_.$j)((function(t){return{profilePosts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{addPost:g.q2,reset:I.mc}),i.memo)((function(t){var s=t.addPost,e=t.reset,n=t.profilePosts,r=(0,v.Z)(n).reverse().map((function(t){return(0,x.jsx)(k,{message:t.message,likeCount:t.likeCount},t.id)}));return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:P,children:(0,x.jsx)(T,{onSubmit:function(t){s(t.post),e("posts")}})}),r]})})),q=function(t){return(0,x.jsxs)("div",{children:[(0,x.jsx)(j,(0,o.Z)({},t)),(0,x.jsx)(y,{})]})},F=e(7689);e(3321);function M(t){return function(s){var e={params:(0,F.UO)()};return(0,x.jsx)(t,(0,o.Z)((0,o.Z)({},s),{},{match:e}))}}var $=function(t){(0,a.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.id;t||(t=this.props.userId),this.props.userPageInfo(t),this.props.setUserStatus(t)}},{key:"render",value:function(){return this.props.isAuth||this.props.match.params.id?(0,x.jsx)(q,(0,o.Z)({},this.props)):(0,x.jsx)(F.Fg,{to:"/login"})}}]),e}(i.Component),B=(0,N.qC)((0,_.$j)((function(t){return{userInfo:t.profilePage.userInfo,status:t.profilePage.status,userId:t.auth.userId,isAuth:t.auth.isAuth}}),{userPageInfo:g.Uu,setUserStatus:g.ij,updateUserStatus:g.OL}),M)($)}}]);
//# sourceMappingURL=450.8e6084e4.chunk.js.map